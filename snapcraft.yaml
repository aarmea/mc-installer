name: mc-installer
version: 1.2.9
summary: Minecraft Downloader and Installer
description: |
    A port of the Minecraft-NSG installer snap. Omits the Oracle version of Java and just runs with openjdk. Skips the dialog and just downloads the .jar and runs the installer. 
grade: stable
confinement: strict

apps:
  mc-installer:
    command: desktop-launch $SNAP/launch
    plugs:
      - x11
      - network
      - unity7
      - opengl
      - pulseaudio
      - wayland
      - desktop
      - desktop-legacy
      - browser-support
      - home

parts:
  launcher:
    plugin: dump
    source: scripts
    after: [desktop-qt5]
  #desktop-gtk3:
    #stage:
      #- -usr/sbin/update-icon-caches
  game:
    plugin: nil
    build-packages:
      - ca-certificates
      - ca-certificates-java
      - openjdk-8-jre-headless
    stage-packages:
      - libgl1-mesa-dri
      - libpulse0
      - yad
      - wget
      - libxext6
      - libxrender1
      - libxtst6
      - libxi6
      - libswt-gtk-3-java
      - libwebkit2gtk-3.0-25
      - x11-xserver-utils
      - python3-gi
      - python3-gi-cairo
      - python3-cairo
      - gir1.2-gtk-3.0
      - openjdk-8-jre-headless
      #- ibus-gtk3
      #- libglib2.0-dev
      #- libglibd-2.0-dev
